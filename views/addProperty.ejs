<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">

    <title>Student Housing Finder - Add new property</title>

    <style>
          /* Always set the map height explicitly to define the size of the div
           * element that contains the map. */
          #map {
            height: 30em;
            width:150em;
          }
          /* Optional: Makes the sample page fill the window. */
          html, body {
            height: 100%;
            margin: 0;
            padding: 0;
          }
        </style>
</head>

<body>
    <div class="jumbotron text-center">
        <h1>Student Housing Finder - Add new Property</h1>
        <h3>Welcome <%= user.firstName %></h3><%= user.email %> <a href="/logout"> logout</a> 
    </div>

    <div class="container text-center">
        <div class="row">

                <!--<h3 style="font-size: 3vw;" data-toggle="tooltip" title="This is your current balance."><a href="/increase">Student Accommodation Finder</a></h3> -->
                <div id="map" class="col-sm-6"> </div>
                <script>
                  var map;
                  function initMap() {
                    map = new google.maps.Map(document.getElementById('map'), {
                      zoom: 14,
                      center: new google.maps.LatLng(50.374657,-4.142385),
                      mapTypeId: 'roadmap'
                    });

                    // Create a <script> tag and set the USGS URL as the source.
                    var script = document.createElement('script');
                    // This example uses a local copy of the GeoJSON stored at
                    // http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp
                    script.src = 'https://developers.google.com/maps/documentation/javascript/examples/json/earthquake_GeoJSONP.js';
                    document.getElementsByTagName('head')[0].appendChild(script);
                  }

                  // Loop through the results array and place a marker for each
                  // set of coordinates.
                  window.eqfeed_callback = function(results) {
                    for (var i = 0; i < results.features.length; i++) {
                      var coords = results.features[i].geometry.coordinates;
                      var latLng = new google.maps.LatLng(coords[1],coords[0]);
                      var marker = new google.maps.Marker({
                        position: latLng,
                        map: map
                      });
                    }
                  }
                </script>
                <script async defer
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAKt1JynmQnjE6niCiisa0zXlmWXcGRg-w&callback=initMap">
                </script>

                <div class="col-sm-6">
                    <h3>Add new property</h3>
                    <form action="/addProperty" method="post">

                        <div class="row form-group input_group">
                            <div class="col-sm-12">
                                <input type="text" name="addressL1" id="addressL1" class="form-control" placeholder="Address Line 1" required>
                            </div>
                        </div>

                        <div class="row form-group input_group">
                            <div class="col-sm-12">
                                <input type="text" name="addressL2" id="addressL2" class="form-control" placeholder="Address Line 2">
                            </div>
                        </div>

                        <div class="row form-group input_group">
                            <div class="col-sm-12">
                                <input type="text" name="city" id="city" class="form-control" placeholder="City" required>
                            </div>
                        </div>

                        <div class="row form-group input_group">
                            <div class="col-sm-12">
                                <input type="text" name="county" id="county" class="form-control" placeholder="County" required>
                            </div>
                        </div>

                        <div class="row form-group input_group">
                            <div class="col-sm-12">
                                <input type="text" name="postcode" id="postcode" class="form-control" placeholder="Postcode" required>
                            </div>
                        </div>

                        <div class="row form-group input_group">
                            <div class="col-sm-6">
                                <input type="text" name="latitude" id="latitude" class="form-control" placeholder="50.3790" value="50.3790">
                            </div>
                        </div>

                        <div class="row form-group input_group">
                            <div class="col-sm-6">
                                <input type="text" name="longitude" id="longitude" class="form-control" placeholder="4.1333" value="4.1333">
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-sm-12">
                                <input type="submit" name="addproperty" id="addproperty" class="form-control btn btn-primary" value="Add property">
                            </div>
                        </div>
                    </form>

                </div>


        </div>
    </div>

    <div class="container text-center">

    <p>You are logged in as: <%= user.firstName %><br>
    <a href="/edit">Click here to change</a></p>



    </div>



    </div>
</body>

<!-- <script>
    function latlong(){
        var latVal = parseFloat(document.getElementById("lat").value);
        var longVal = parseFloat(document.getElementById("long").value);

        var latLongVal = document.getElementById("latLongVal");

        latLongVal = latVal.value + "," + longVal;
        return latLongVal;

    }
</script> -->
</html>